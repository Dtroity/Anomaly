# üéõÔ∏è –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ Marzban

## –ü—Ä–æ–±–ª–µ–º–∞
Marzban —Ç—Ä–µ–±—É–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ `0.0.0.0`. –ë–µ–∑ SSL –æ–Ω —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ `127.0.0.1`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è Nginx —á–µ—Ä–µ–∑ Docker network.

## –†–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚úÖ

```bash
cd /opt/Anomaly

# 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
nslookup api.anomaly-connect.online
nslookup panel.anomaly-connect.online

# 2. –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
chmod +x setup-ssl.sh
sudo ./setup-ssl.sh

# 3. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SSL, –æ–±–Ω–æ–≤–∏—Ç—å .env.marzban
# –î–æ–±–∞–≤–∏—Ç—å –ø—É—Ç–∏ –∫ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º:
# UVICORN_SSL_CERTFILE=/path/to/cert.pem
# UVICORN_SSL_KEYFILE=/path/to/key.pem

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Marzban
docker-compose restart marzban
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å üîß

```bash
# –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
ssh -L 62050:localhost:62050 root@72.56.79.212

# –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# http://127.0.0.1:62050
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É (–≤—Ä–µ–º–µ–Ω–Ω–æ) ‚ö†Ô∏è

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç 62050 –Ω–∞–ø—Ä—è–º—É—é
# –î–æ—Å—Ç—É–ø: http://72.56.79.212:62050
# ‚ö†Ô∏è –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å host network mode (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚ö†Ô∏è

–ò–∑–º–µ–Ω–∏—Ç—å `docker-compose.yml` –¥–ª—è Marzban:
```yaml
marzban:
  network_mode: host
```

‚ö†Ô∏è –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤.

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Nginx
- ‚úÖ Bot —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è –ü–∞–Ω–µ–ª—å Marzban –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Nginx (—Ç—Ä–µ–±—É—é—Ç—Å—è SSL)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SSL:
1. Marzban —Å–º–æ–∂–µ—Ç —Å–ª—É—à–∞—Ç—å –Ω–∞ `0.0.0.0:62050`
2. –ü–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ `https://panel.anomaly-connect.online`
3. –í—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ

