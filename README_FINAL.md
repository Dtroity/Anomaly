# üéØ Anomaly VPN - –§–∏–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### VPS #1 - Control Server (72.56.79.212)

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.** –°–æ–¥–µ—Ä–∂–∏—Ç:

- ‚úÖ **Marzban** (Docker) - –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–æ–¥–∞–º–∏
- ‚úÖ **Telegram Bot** (Docker) - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **FastAPI Backend** (Docker) - API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- ‚úÖ **PostgreSQL** (Docker) - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Nginx** (Docker) - –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ + SSL

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- Marzban API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ (`localhost:62050`)
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ Docker network
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Nginx —Å SSL

### VPS #2 - Node (Worker)

**–†–∞–±–æ—á–∞—è –Ω–æ–¥–∞.** –°–æ–¥–µ—Ä–∂–∏—Ç:

- ‚úÖ **Marzban Node** (Docker) - –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Control Server
- ‚úÖ **Xray Core** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ù–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Control Server –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ–µ (outbound)
- –¢–æ–ª—å–∫–æ –ø–æ—Ä—Ç—ã 443 (VLESS) –∏ 80 (fallback)

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### Control Server

```bash
git clone <repository-url>
cd anomaly-vpn
sudo bash install-control.sh
```

### Node

```bash
git clone <repository-url>
cd anomaly-vpn
sudo bash install-node.sh
```

## üìê –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
User ‚Üí Telegram Bot ‚Üí FastAPI ‚Üí Marzban API (–ª–æ–∫–∞–ª—å–Ω–æ)
                                    ‚Üì
                              Node (Xray)
                                    ‚Üì
                              –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ Marzban API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
- ‚úÖ –í—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –≤ Docker network
- ‚úÖ SSL/TLS –¥–ª—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ Firewall –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `ARCHITECTURE.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `DEPLOYMENT.md` - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- `docs/ADMIN.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `docs/CLIENTS.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

---

**Anomaly VPN** - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å —Å–µ—Ç–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

